(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc2a88e4"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,n){var a=n("c6b6"),r=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"2d3b":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-wrap"},[n("div",{staticClass:"search-head-wrap"},[n("div",{staticClass:"search-head"},[n("van-icon",{attrs:{name:"arrow-left"},on:{touchend:function(t){return e.$router.push({name:"Classify"})}}}),n("van-search",{attrs:{"show-action":"",placeholder:"草莓"},on:{search:function(t){return e.onSearch(e.value)},input:e.onInput,focus:function(t){e.isShowGoodsCard=!1}},scopedSlots:e._u([{key:"action",fn:function(){return[n("div",{style:{display:"flex",alignItems:"center"},on:{click:function(t){return e.onSearch(e.value)}}},[e.isShowGoodsCard?n("van-icon",{attrs:{name:"shopping-cart-o",id:"shoppingCart",badge:e.goodsNum},on:{touchend:function(t){return e.$router.push({name:"Cart"})}}}):n("span",[e._v("搜索")])],1)]},proxy:!0}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)]),e.isShowGoodsCard?n("div",{staticClass:"goods-card"},[n("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.goodList,(function(t){return n("GoodCard",{key:t.id,attrs:{title:t.title,desc:t.desc,tags:t.tags,price:t.price,images:t.images,id:t.id,num:e.goodsData[t.id]}})})),1)],1):e._e(),e.isShowLikeSearch?n("div",{staticClass:"like-search"},[n("van-list",e._l(e.searchList,(function(t){return n("van-cell",{key:t,on:{click:function(n){return e.onSearch(t)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("span",{staticClass:"custom-title"},[e._v(" "+e._s(t.split(e.value)[0])),n("span",{staticClass:"red"},[e._v(e._s(e.value))]),e._v(e._s(t.split(e.value)[1])+" ")])]},proxy:!0}],null,!0)})})),1)],1):e._e(),e.isShowLikeSearch||e.isShowGoodsCard?e._e():n("div",{staticClass:"history"},[n("h4",[e._v("历史记录")]),e._l(e.historysData,(function(t){return n("div",{key:t.value,staticClass:"his-item",on:{touchend:function(n){return e.onSearch(t.value)}}},[e._v(e._s(t.value))])}))],2)])},r=[],i=n("5530"),o=n("2909"),s=n("1da1"),c=(n("ac1f"),n("841c"),n("96cf"),n("5a4a")),u=n("2f62"),l=n("d654"),d={components:{GoodCard:l["a"]},data:function(){return{value:"",timeId:null,searchList:[],goodList:[],isShowGoodsCard:!1,isShowLikeSearch:!1,loading:!1,finished:!1,page:1}},methods:{onSearch:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e=""===e?"草莓":e,t.value=e,t.goodList=[],t.page=1,t.finished=!1,t.loading=!0,clearTimeout(t.timeId),t.$store.commit("setStorageData",{key:"historysData",value:t.value}),t.onLoad();case 9:case"end":return n.stop()}}),n)})))()},onInput:function(e){var t=this;if(clearTimeout(this.timeId),""===e)return this.searchList=[],void(this.isShowLikeSearch=!1);this.timeId=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c["a"].likeSearch(e);case 2:a=n.sent,r=a.result,t.searchList=r,0!==r.length&&(t.isShowLikeSearch=!0);case 6:case"end":return n.stop()}}),n)}))),500)},onLoad:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].search({type:e.value,page:e.page,size:7});case 2:a=t.sent,(n=e.goodList).push.apply(n,Object(o["a"])(a.list)),e.page+=1,e.loading=!1,e.isShowGoodsCard=!0,e.isShowLikeSearch=!1,e.goodList.length>=a.total&&(e.finished=!0);case 9:case"end":return t.stop()}}),t)})))()}},computed:Object(i["a"])(Object(i["a"])({},Object(u["c"])(["goodsData","historysData"])),Object(u["b"])(["goodsNum"]))},f=d,h=(n("cae6"),n("2877")),p=Object(h["a"])(f,a,r,!1,null,"a0d98994",null);t["default"]=p.exports},"3e54":function(e,t,n){},"841c":function(e,t,n){"use strict";var a=n("d784"),r=n("825a"),i=n("1d80"),o=n("129f"),s=n("14c3");a("search",1,(function(e,t,n){return[function(t){var n=i(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n):new RegExp(t)[e](String(n))},function(e){var a=n(t,e,this);if(a.done)return a.value;var i=r(e),c=String(this),u=i.lastIndex;o(u,0)||(i.lastIndex=0);var l=s(i,c);return o(i.lastIndex,u)||(i.lastIndex=u),null===l?-1:l.index}]}))},9263:function(e,t,n){"use strict";var a=n("ad6d"),r=n("9f7f"),i=n("5692"),o=RegExp.prototype.exec,s=i("native-string-replace",String.prototype.replace),c=o,u=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],f=u||d||l;f&&(c=function(e){var t,n,r,i,c=this,f=l&&c.sticky,h=a.call(c),p=c.source,v=0,g=e;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(e).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==e[c.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,v++),n=new RegExp("^(?:"+p+")",h)),d&&(n=new RegExp("^"+p+"$(?!\\s)",h)),u&&(t=c.lastIndex),r=o.call(f?n:c,g),f?r?(r.input=r.input.slice(v),r[0]=r[0].slice(v),r.index=c.lastIndex,c.lastIndex+=r[0].length):c.lastIndex=0:u&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),d&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),e.exports=c},"9f7f":function(e,t,n){"use strict";var a=n("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},cae6:function(e,t,n){"use strict";n("3e54")},d784:function(e,t,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("9263"),i=n("d039"),o=n("b622"),s=n("9112"),c=o("species"),u=RegExp.prototype,l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),h=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),p=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,f){var v=o(e),g=!i((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),x=g&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!g||!x||"replace"===e&&(!l||!d||h)||"split"===e&&!p){var m=/./[v],S=n(v,""[e],(function(e,t,n,a,i){var o=t.exec;return o===r||o===u.exec?g&&!i?{done:!0,value:m.call(t,n,a)}:{done:!0,value:e.call(n,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),w=S[0],E=S[1];a(String.prototype,e,w),a(u,v,2==t?function(e,t){return E.call(e,this,t)}:function(e){return E.call(e,this)})}f&&s(u[v],"sham",!0)}}}]);
//# sourceMappingURL=chunk-fc2a88e4.174e0ee3.js.map